<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,body{
            width:100%;height:100%;
            overflow: hidden;
            padding:0;margin: 0;
        }
        canvas{
            background: url(imgs/back/back.jpg);
            background-repeat:repeat-x;
            background-color:#fff;


        }

    </style>
    <script src="game.js"></script>
    <script src="imgload.js"></script>
    <script src="touch.js"></script>
    <script src="hitPix.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded",function(){

          var canvas=document.querySelector("canvas");
          var cobj=canvas.getContext("2d");
          var clientW,clientH;
          var runimg=document.querySelectorAll(".run");
          var jumpimg=document.querySelectorAll(".jump");
          var hinderimg=document.querySelectorAll(".hinder");


            //1. 整个游戏的对象
            var gameObj=new game(canvas,cobj,runimg,jumpimg,hinderimg);


          window.onresize=function(){
                clientW=document.documentElement.clientWidth;
                clientH=document.documentElement.clientHeight;
                canvas.width=clientW;
                canvas.height=clientH;
                if(canvas.width/1136>canvas.height/544){
                    canvas.style.backgroundSize="contain";
                }else{
                    canvas.style.backgroundSize="cover";
                }

              gameObj.person.y=canvas.height-gameObj.person.height;


              for(var i=0;i<gameObj.hinderArr.length;i++){
                  gameObj.hinderArr[i].y=canvas.height-gameObj.hinderArr[i].height;
              }



          }
          window.onresize();


           var imgloadObj= new imageLoad(document.querySelectorAll("img"));
            imgloadObj.loadAll(function(){
                 gameObj.play();
            });




        })
    </script>
</head>
<body>

<canvas>

</canvas>
<!--

-->
<img src="imgs/person/run1.png" alt="" class="run" hidden>
<img src="imgs/person/run2.png" alt="" class="run" hidden>
<img src="imgs/person/run3.png" alt="" class="run" hidden>
<img src="imgs/person/run4.png" alt="" class="run" hidden>
<img src="imgs/person/run5.png" alt="" class="run" hidden>
<img src="imgs/person/run6.png" alt="" class="run" hidden>
<img src="imgs/person/run7.png" alt="" class="run" hidden>


<img src="imgs/hinder/boom.png" alt="" hidden class="hinder">
<img src="imgs/hinder/chick.png" alt=""hidden class="hinder">
<img src="imgs/hinder/egg.png" alt=""hidden class="hinder">
<img src="imgs/hinder/flow.png" alt=""hidden class="hinder">
<img src="imgs/hinder/grass.png" alt=""hidden class="hinder">
<img src="imgs/hinder/pail.png" alt=""hidden class="hinder">
<img src="imgs/hinder/stone.png" alt=""hidden class="hinder">
<img src="imgs/hinder/tree.png" alt=""hidden class="hinder">
<img src="imgs/hinder/ys.png" alt=""hidden class="hinder">



<img src="imgs/person/jump2.png" alt="" class="jump">
</body>
</html>